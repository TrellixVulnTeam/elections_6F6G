{"ast":null,"code":"var _jsxFileName = \"/Users/ozshmuel/Desktop/Google Drive/CS/\\u05E9\\u05E0\\u05D4 \\u05D2/\\u05E1\\u05DE\\u05E1\\u05D8\\u05E8 \\u05D1\\u05F3/blockchain/project/election/client/src/components/Dialogs/DonateDialog.jsx\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport TextField from '@mui/material/TextField';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport { useEth } from '../../contexts/EthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DonateDialog(_ref) {\n  _s();\n\n  let {\n    candidateName\n  } = _ref;\n  const {\n    state: {\n      web3,\n      contract\n    }\n  } = useEth();\n  const [open, setOpen] = React.useState(false);\n  const [amount, setAmount] = React.useState(0);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const setDonation = () => {\n    const amountInEth = web3.toWei(amount, 'ether');\n    contract.methods.donate().send({\n      from: web3.eth.defaultAccount,\n      value: amountInEth\n    }).then(() => {\n      console.log(\"donated!\");\n      setOpen(false);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      size: \"small\",\n      onClick: handleClickOpen,\n      children: \"Donate\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: handleClose,\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"alert-dialog-title\",\n        children: [\"Donate to \", candidateName, \"'s campaign\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n          id: \"alert-dialog-description\",\n          children: [\"Please enter the amount of \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"ETH\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 52\n          }, this), \" you would like to donate to \", candidateName, \"'s campaign.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          id: \"name\",\n          label: \"Amount\",\n          type: \"number\",\n          variant: \"standard\",\n          sx: {\n            width: '80px'\n          },\n          onChange: e => {\n            e.preventDefault();\n            setAmount(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: setDonation,\n          autoFocus: true,\n          children: \"Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n\n_s(DonateDialog, \"dveNabs++dottTsTXG1EMrihDuY=\", false, function () {\n  return [useEth];\n});\n\n_c = DonateDialog;\n\nvar _c;\n\n$RefreshReg$(_c, \"DonateDialog\");","map":{"version":3,"names":["React","Button","Dialog","TextField","DialogActions","DialogContent","DialogContentText","DialogTitle","useEth","DonateDialog","candidateName","state","web3","contract","open","setOpen","useState","amount","setAmount","handleClickOpen","handleClose","setDonation","amountInEth","toWei","methods","donate","send","from","eth","defaultAccount","value","then","console","log","width","e","preventDefault","target"],"sources":["/Users/ozshmuel/Desktop/Google Drive/CS/שנה ג/סמסטר ב׳/blockchain/project/election/client/src/components/Dialogs/DonateDialog.jsx"],"sourcesContent":["import * as React from 'react';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport TextField from '@mui/material/TextField';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\n\nimport { useEth } from '../../contexts/EthContext';\n\n\nexport default function DonateDialog({ candidateName,  }) {\n\n    const { state: { web3, contract } } = useEth();\n\n    const [open, setOpen] = React.useState(false);\n    const [amount, setAmount] = React.useState(0);\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const setDonation = () => {\n\n        const amountInEth = web3.toWei(amount, 'ether')\n\n        contract.methods.donate().send({ from: web3.eth.defaultAccount, value: amountInEth})\n        .then( () => {\n            console.log(\"donated!\");\n            setOpen(false);\n        })\n    }\n\n    return (\n        <div>\n            <Button size=\"small\" onClick={handleClickOpen}>\n                Donate\n                </Button>\n            {/* <Button variant=\"outlined\" onClick={handleClickOpen}>\n                Open alert dialog\n            </Button> */}\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle id=\"alert-dialog-title\">\n                    Donate to { candidateName }'s campaign\n                </DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        Please enter the amount of <strong>ETH</strong> you would like to donate to {candidateName}'s campaign.\n                    </DialogContentText>\n                    <TextField\n                        autoFocus\n                        margin=\"dense\"\n                        id=\"name\"\n                        label=\"Amount\"\n                        type=\"number\"\n                        variant=\"standard\"\n                        sx={{width:'80px'}}\n                        onChange= { (e) => {\n                            e.preventDefault();\n                            setAmount(e.target.value)}}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose}>Cancel</Button>\n                    <Button variant='contained' onClick={(setDonation)} autoFocus>\n                        Confirm\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}